<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/polymerfire/firebase-query.html">
<link rel="import" href="../bower_components/polymerfire/firebase-document.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="lf-record.html">

<dom-module id="lf-journal">

    <template>        

        <style>
            :host {
                display: block;
                padding: 16px;
            }
        </style>

        <firebase-query
            id="query"
            path="/records/[[user.uid]]"
            data="{{records}}">
        </firebase-query>

        <h1>Journal</h1>
        <paper-button raised on-tap="newRecord">New Record</paper-button>
        <lf-record id="recordForm" user="[[user]]"></lf-record>
        <table style="width:100%">
            <tr>
                <th>Category</th>
                <th>Amount</th>
                <th>Date</th>
            </tr>
            <template is="dom-repeat" items="{{records}}">
                <tr>
                    <td>{{item.category}}</td>
                    <td>{{item.amount}}</td>
                    <td>7/29/16</td>
                </tr>
            </template>
        </table>
        
    </template>

    <script>
        Polymer({
            is: 'lf-journal',
            properties: {
                route: Object,
                user: Object
            },

            newRecord: function() {
                this.$.recordForm.show();
            }
        });
    </script>

</dom-module>